<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<link href="../css/pagination.css" rel="stylesheet" type="text/css" />
<link href="../css/tablecloth.css" rel="stylesheet" type="text/css" />
<script src="../js/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="../js/jquery.pagination.js" type="text/javascript"></script>
<script src="../js/tablecloth.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function(){
    var pageIndex = 0;     //页面索引初始值
    var pageSize = 10;     //每页显示条数初始化，修改显示条数，修改这里即可
    $(document).ready(function() {
        InitTable(0);    //Load事件，初始化表格数据，页面索引为0（第一页）
        //分页，PageCount是总条目数，这是必选参数，其它参数都是可选
        $("#Pagination").pagination(200,{
            callback: PageCallback,
            prev_text: '上一页',       //上一页按钮里text
            next_text: '下一页',       //下一页按钮里text
            items_per_page: pageSize,  //显示条数
            num_display_entries: 5,    //连续分页主体部分分页条目数
            current_page: pageIndex,   //当前页索引
            num_edge_entries: 2        //两侧首尾分页条目数
        });
    });
    //翻页调用
    function PageCallback(index, jq) {
        InitTable(index);
    }

    //请求数据
    function InitTable(pageIndex) {
        $.ajax({
            type: "POST",
            dataType: "text",
            url: '../Handler/PagerHandler.ashx',      //提交到一般处理程序请求数据
            data: "pageIndex=" + (pageIndex + 1) + "&pageSize=" + pageSize,          //提交两个参数：pageIndex(页面索引)，pageSize(显示条数)
            success: function(data) {
                $("#Result tr:gt(1)").remove();        //移除Id为Result的表格里的行，从第二行开始（这里根据页面布局不同页变）
                $("#Result").append(data);             //将返回的数据追加到表格
            }
        });
    };
    });
</script>
<body>
<!--
<form id="form1" runat="server"><br>
    <div align="center"><br><h1><br>Dawn----无刷新分页</h1><br>
    </div><br>
    <div id="container"><br>
        <table id="Result" cellspacing="0" cellpadding="0"><br>
            <thead><br>
            <tr><br>
                <th><br>
                编号<br>
                </th><br>
                <th><br>
                     名称<br>
                </th><br>
            </tr>
            <br>
            </thead><br>
            <tfoot><br>
            <tr><br>
                <td><br>
                Dawn<br>
                </td><br>
                <td><br>
                    Dawn<br>
                </td><br>
            </tr><br>
            </tfoot><br>
        </table><br>
        <div id="Pagination" style="width: 800px;"><br>

        </div>
        <br>
    </div><br>
</form>
-->
<form id="form1" runat="server"><br>    <div align="center"><br>        <h1><br>            Dawn----无刷新分页</h1><br>    </div><br>    <div id="container"><br>        <table id="Result" cellspacing="0" cellpadding="0"><br>            <thead><br>                <tr><br>                    <th><br>                        编号<br>                    </th><br>                    <th><br>                        名称<br>                    </th><br>                </tr><br>            </thead><br>            <tfoot><br>                <tr><br>                    <td><br>                        Dawn<br>                    </td><br>                    <td><br>                        Dawn<br>                    </td><br>                </tr><br>            </tfoot><br>        </table><br>        <div id="Pagination" style="width: 800px;"><br>        </div><br>    </div><br>    </form>
</body>
</html>